(this["webpackJsonpmath-game"]=this["webpackJsonpmath-game"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n.n(a),r=n(6),s=n.n(r),o=(n(13),n(2)),u=(n(14),n(15),n.p+"static/media/logo-multiply.562cea21.svg");function l(){return Object(c.jsxs)("header",{className:"header",children:[Object(c.jsx)("img",{src:u,width:32,height:32,className:"header-logo",alt:""}),"\ufe0f Math Game"]})}var _="ADD_INT_SIMPLE_NUMBER",f="ADD_INT_1_NUMBER",j="ADD_INT_2_NUMBER",d="ADD_INT_3_NUMBER",N="SUBSTRACT_INT_1_NUMBER",b="SUBSTRACT_INT_2_NUMBER",h="SUBSTRACT_INT_3_NUMBER",T="SUBSTRACT_NEGATIVE_INT_1_NUMBER",O="SUBSTRACT_NEGATIVE_INT_2_NUMBER",E="MULTIPLY_INT_1_NUMBER",I="MULTIPLY_INT_2_NUMBER",v="MULTIPLY_INT_TENS_NUMBER",m="MULTIPLY_SIMPLE_FLOAT_NUMBER",M="DIVIDE_SIMPLE_FLOAT_NUMBER",p="DIVIDE_INT_2_NUMBER",U="DIVIDE_INT_TENS_NUMBER",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B(1,3);return 1/Math.pow(10,e)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B(1,999),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B(10,999),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B(1,3);return e+t/Math.pow(10,n)},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return Math.round(n*(t-e)+e)},R=function(e){switch(e){case m:return[g(),S()];case M:return[S(),g()];case p:var t=B(2,10);return[B(2,9)*t,t];case I:case j:return[B(10,100),B(2,10)];case d:return[B(100,1e3),B(2,10)];case _:return[B(0,5),B(1,5)];case E:case f:return[B(2,10),B(2,10)];case v:return[B(2,100),Math.pow(10,B(1,4))];case U:return[B(100,9999),Math.pow(10,B(1,4))];case N:return[B(5,10),B(1,5)];case b:return[B(50,99),B(1,50)];case h:return[B(100,999),B(1,100)];case T:return[B(1,10),B(5,10)];case O:return[B(1,50),B(50,100)];default:throw new Error("difficulty is not set")}},x=function(e){switch(e){case p:case M:case U:return"\xf7";case E:case I:case m:case v:return"x";case N:case b:case h:case T:case O:return"-";case _:case f:case j:case d:default:return"+"}},w=function(e){var t=e.difficulty,n=e.x,c=e.y,a=e.result,i=parseFloat((a||"").replace(",",".")),r=function(e){var t=e.difficulty,n=e.x,c=e.y;switch(x(t)){case"x":return n*c;case"\xf7":return n/c;case"+":return n+c;case"-":return n-c;default:throw new Error("difficulty is not set")}}({difficulty:t,x:n,y:c});return Math.abs(i-r)<1e-9};n(16);function D(e){var t=e.x,n=e.y,i=e.difficulty,r=e.disabled,s=void 0!==r&&r,u=e.onSubmit,l=void 0===u?function(){}:u,_=Object(a.useState)(),f=Object(o.a)(_,2),j=f[0],d=f[1];Object(a.useEffect)((function(){return d("")}),[t,n]);return Object(c.jsxs)("div",{className:"question",children:[Object(c.jsxs)("span",{className:"question-q",children:[t," ",x(i)," ",n," ="," "]}),Object(c.jsx)("input",{type:"text",name:"answer",value:j,onChange:function(e){if(!s){var t=e.target.value;d(t),l(t)}},className:"question-answer",autoFocus:!0,pattern:"[\\.,0-9]*",inputMode:"numeric",maxLength:"8"})," ","?"]})}n(17);var L=function(e){return{ADD_INT_SIMPLE_NUMBER:1,ADD_INT_1_NUMBER:2,MULTIPLY_INT_TENS_NUMBER:2,SUBSTRACT_INT_1_NUMBER:2,DIVIDE_INT_TENS_NUMBER:3,ADD_INT_2_NUMBER:3,SUBSTRACT_NEGATIVE_INT_1_NUMBER:3,ADD_INT_3_NUMBER:4,SUBSTRACT_INT_2_NUMBER:4,MULTIPLY_SIMPLE_FLOAT_NUMBER:4,DIVIDE_SIMPLE_FLOAT_NUMBER:4,MULTIPLY_INT_1_NUMBER:5,SUBSTRACT_NEGATIVE_INT_2_NUMBER:5,SUBSTRACT_INT_3_NUMBER:5,DIVIDE_INT_2_NUMBER:5,MULTIPLY_INT_2_NUMBER:6}[e]||1};function A(e){var t=e.score;return Object(c.jsxs)("div",{className:"score",children:["Score : ",t]})}n(18);function k(e){return e<3?"fast":e<6?"medium":e<9?"long":"verylong"}function y(e){var t=e.x,n=e.y,i=e.show,r=Object(a.useState)(Date.now()),s=Object(o.a)(r,2),u=s[0],l=s[1],_=Object(a.useState)(),f=Object(o.a)(_,2),j=f[0],d=f[1],N=Object(a.useState)(0),b=Object(o.a)(N,2),h=b[0],T=b[1],O=Object(a.useState)(0),E=Object(o.a)(O,2),I=E[0],v=E[1];if(Object(a.useEffect)((function(){if(i){var e=(Date.now()-u)/1e3;d(e),T(h+1),v(I+e)}}),[i]),Object(a.useEffect)((function(){l(Date.now())}),[t,n]),!j)return null;var m=j.toFixed(1),M=(I/h).toFixed(1);return Object(c.jsxs)("div",{className:"chronometer",children:[Object(c.jsxs)("div",{children:["Time :"," ",Object(c.jsxs)("span",{className:k(m),children:[m," sec."]})]}),Object(c.jsxs)("div",{children:["Average :"," ",Object(c.jsxs)("span",{className:k(M),children:[M," sec."]})]})]})}var C=n(3),P=n(4),V=(n(19),"mathGameDifficulty"),Y=function(e){var t=Object.entries(e).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return n}));return t[B(0,t.length-1)]},F={ADD_INT_SIMPLE_NUMBER:"simple addition like 2 + 2",ADD_INT_1_NUMBER:"addition like 2 + 5",ADD_INT_2_NUMBER:"addition like 53 + 9",ADD_INT_3_NUMBER:"addition like 532 + 3",SUBSTRACT_INT_1_NUMBER:"simple substraction like 6 - 3",SUBSTRACT_INT_2_NUMBER:"substraction like 45 - 12",SUBSTRACT_INT_3_NUMBER:"substraction like 211 - 122",SUBSTRACT_NEGATIVE_INT_1_NUMBER:"simple substraction with negative numbers like 4 - 6",SUBSTRACT_NEGATIVE_INT_2_NUMBER:"substraction with negative numbers like 12 - 22",MULTIPLY_INT_1_NUMBER:"classic multiplication like 2 x 5",MULTIPLY_INT_2_NUMBER:"multiplication like 32 x 3",DIVIDE_INT_2_NUMBER:"classic division like 30 \xf7  5",MULTIPLY_INT_TENS_NUMBER:"multiplication with 10, 100, 1000",MULTIPLY_SIMPLE_FLOAT_NUMBER:"multiplication like 23.111 x 0.001 ",DIVIDE_SIMPLE_FLOAT_NUMBER:"division like 132.34 \xf7 0.01",DIVIDE_INT_TENS_NUMBER:"division with 10, 100, 1000"},G=function(){var e,t=function(){var e=localStorage.getItem(V);return e?JSON.parse(e):null}();return Object(P.a)((e={},Object(C.a)(e,_,!1),Object(C.a)(e,f,!1),Object(C.a)(e,j,!1),Object(C.a)(e,d,!1),Object(C.a)(e,N,!1),Object(C.a)(e,b,!1),Object(C.a)(e,h,!1),Object(C.a)(e,T,!1),Object(C.a)(e,O,!1),Object(C.a)(e,E,!0),Object(C.a)(e,I,!1),Object(C.a)(e,v,!1),Object(C.a)(e,m,!1),Object(C.a)(e,p,!1),Object(C.a)(e,U,!1),Object(C.a)(e,M,!1),e),t)};function W(e){var t=e.difficulties,n=e.onDifficultiesChange,a=void 0===n?function(){}:n,i=function(e){var n,c,i=e.target.checked,r=Object(P.a)(Object(P.a)({},t),{},Object(C.a)({},e.target.value,i));c=r,!0===Object.values(c).find((function(e){return e}))&&(a(r),n=r,localStorage.setItem(V,JSON.stringify(n)))};return Object(c.jsxs)("div",{className:"difficulties",children:["Operations :",Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)("label",{className:"difficulties-option",children:[Object(c.jsx)("input",{type:"checkbox",name:"difficulties",onChange:i,value:n,checked:a})," ",F[n]," ",Object(c.jsxs)("small",{className:"difficulties-point",children:[L(n)," points"]})]},n)}))]})}var q=n(7);n(20);function J(e){var t=e.win,n=Object(a.useState)(!0),i=Object(o.a)(n,2),r=i[0],s=i[1];Object(a.useEffect)((function(){t&&r&&Object(q.a)({particleCount:80,spread:50,origin:{y:.6}})}),[t,r]);return Object(c.jsxs)("label",{className:"confetti",children:[Object(c.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){return s(e.target.checked)}}),"Confetti ?"]})}function $(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(G()),s=Object(o.a)(r,2),u=s[0],_=s[1],f=Object(a.useState)(Y(u)),j=Object(o.a)(f,2),d=j[0],N=j[1],b=Object(a.useState)(0),h=Object(o.a)(b,2),T=h[0],O=h[1],E=Object(a.useState)(R(d)),I=Object(o.a)(E,2),v=I[0],m=I[1],M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1];return[Object(a.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;clearTimeout(c),i(setTimeout(t,n))}),[c,e])]}(300),p=Object(o.a)(M,1)[0],U=function(){var e,t,n=Y(u);N(n);do{var c=R(n),a=Object(o.a)(c,2);e=a[0],t=a[1]}while(e===v[0]&&t===v[1]);m([e,t]),i(!1)};Object(a.useEffect)(U,[u]);var g=Object(o.a)(v,2),S=g[0],B=g[1];return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(l,{className:"app-header"}),Object(c.jsxs)("section",{className:"app-main",children:[Object(c.jsx)(D,{x:S,y:B,difficulty:d,disabled:n,onSubmit:function(e){i(!1),w({difficulty:d,x:S,y:B,result:e})&&(i(!0),O(T+L(d)),p(U))}}),Object(c.jsx)(A,{score:T}),Object(c.jsx)(y,{x:S,y:B,show:n})]}),Object(c.jsx)("section",{className:"app-options",children:Object(c.jsxs)("details",{className:"app-details",children:[Object(c.jsx)("summary",{className:"app-summary",children:"Options"}),Object(c.jsx)(W,{difficulties:u,onDifficultiesChange:function(e){return _(e)}}),Object(c.jsx)(J,{win:n}),Object(c.jsxs)("p",{children:["That web application is free software -"," ",Object(c.jsx)("a",{href:"https://github.com/paulgreg/math-game/blob/main/LICENSE.md",children:"MIT License"})," ","- Source code on"," ",Object(c.jsx)("a",{href:"https://github.com/paulgreg/math-game",children:"github"})]})]})})]})}var z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)($,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://paulgreg.me/math-game",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://paulgreg.me/math-game","/service-worker.js");z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):H(t,e)}))}}()}],[[21,1,2]]]);
//# sourceMappingURL=main.e3ad71fc.chunk.js.map